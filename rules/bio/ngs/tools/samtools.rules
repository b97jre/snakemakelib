
# -*- snakemake -*-
import os
from snakemakelib.utils import update_config, sml_rules_path

# Start by including the general snakefile
include: os.path.join(sml_rules_path(), 'base_settings.rules')

config_default = { 
	"samtools" : {
		"SAMTOOLS_REF" : "$(REF)",
		"SAMTOOLS" : "samtools",
		"SAMTOOLS_THREADS" : "$(THREADS)",
		"SAMTOOLS_OPTIONS" : "",
		},
	},
}

config = update_config(config, config_default)

rule rule_1:
	input: " {prefix}.sam"
	output: "{prefix}.bam"
	shell: "$(SAMTOOLS) view -Sbh - > $@.tmp && mv $@.tmp $@"
